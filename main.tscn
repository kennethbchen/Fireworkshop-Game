[gd_scene load_steps=14 format=3 uid="uid://i7vtjolmol5c"]

[ext_resource type="Script" path="res://scripts/player_data.gd" id="1_2o573"]
[ext_resource type="Script" path="res://scripts/debug_commands.gd" id="1_255dg"]
[ext_resource type="Script" path="res://scripts/global_tool_settings.gd" id="1_om5vq"]
[ext_resource type="Script" path="res://scripts/player_controls.gd" id="2_3u3oc"]
[ext_resource type="Script" path="res://scripts/drawing_area.gd" id="3_c1rli"]
[ext_resource type="Script" path="res://scripts/tools/pencil_tool.gd" id="3_ovh5a"]
[ext_resource type="Script" path="res://scripts/tools/eraser_tool.gd" id="4_x4p8e"]
[ext_resource type="Script" path="res://scripts/swatch_picker.gd" id="6_f3tm5"]
[ext_resource type="Texture2D" uid="uid://ct8wdx0sna33v" path="res://icon.svg" id="8_75yju"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tom0t"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.683077, 0.683077, 0.683077, 1)
expand_margin_left = 4.0
expand_margin_top = 4.0
expand_margin_right = 4.0
expand_margin_bottom = 4.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_h6s55"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xvl0s"]
bg_color = Color(0.370364, 0.370365, 0.370364, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_k72q8"]

[node name="Main" type="Node2D"]

[node name="PlayerData" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("1_2o573")

[node name="TempSprite" type="Sprite2D" parent="PlayerData"]
position = Vector2(320, 336)

[node name="GlobalToolSettings" type="Node" parent="." node_paths=PackedStringArray("swatch_picker")]
unique_name_in_owner = true
script = ExtResource("1_om5vq")
swatch_picker = NodePath("../CanvasLayer/SwatchPicker")

[node name="DebugCommands" type="Node" parent="."]
script = ExtResource("1_255dg")

[node name="PlayerControls" type="Node" parent="." node_paths=PackedStringArray("drawing_area", "current_tool")]
script = ExtResource("2_3u3oc")
drawing_area = NodePath("../CanvasLayer/DrawingArea")
tools = {
"eraser": NodePath("EraserTool"),
"pencil": NodePath("PencilTool")
}
current_tool = NodePath("PencilTool")

[node name="PencilTool" type="Node" parent="PlayerControls"]
script = ExtResource("3_ovh5a")

[node name="EraserTool" type="Node" parent="PlayerControls"]
script = ExtResource("4_x4p8e")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="SwatchPicker" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 304.0
offset_top = 88.0
offset_right = 304.0
offset_bottom = 88.0
script = ExtResource("6_f3tm5")
colors = Array[Color]([Color(0, 0, 0, 1), Color(1, 1, 1, 1), Color(1, 0, 0, 1), Color(0, 1, 0, 1), Color(0, 0, 1, 1)])

[node name="SwatchContainer" type="GridContainer" parent="CanvasLayer/SwatchPicker"]
layout_mode = 0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.0
theme_override_constants/h_separation = 0
theme_override_constants/v_separation = 0

[node name="SelectionCursor" type="Panel" parent="CanvasLayer/SwatchPicker"]
layout_mode = 0
offset_right = 32.0
offset_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_tom0t")

[node name="Tools" type="VBoxContainer" parent="CanvasLayer"]
offset_left = 296.0
offset_top = 8.0
offset_right = 351.0
offset_bottom = 74.0

[node name="PencilButton" type="Button" parent="CanvasLayer/Tools"]
layout_mode = 2
text = "Pencil"

[node name="EraserButton" type="Button" parent="CanvasLayer/Tools"]
layout_mode = 2
text = "Erase
"

[node name="DrawingArea" type="TextureRect" parent="CanvasLayer"]
offset_left = 8.0
offset_top = 8.0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(9, 9)
script = ExtResource("3_c1rli")
metadata/_edit_group_ = true

[node name="Panel" type="Panel" parent="CanvasLayer/DrawingArea"]
z_index = -1
layout_mode = 0
offset_right = 16.0
offset_bottom = 16.0
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_h6s55")

[node name="Panel2" type="Panel" parent="CanvasLayer/DrawingArea"]
z_index = -1
layout_mode = 0
offset_left = 16.0
offset_right = 32.0
offset_bottom = 16.0
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_xvl0s")

[node name="Panel3" type="Panel" parent="CanvasLayer/DrawingArea"]
z_index = -1
layout_mode = 0
offset_top = 16.0
offset_right = 16.0
offset_bottom = 32.0
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_xvl0s")

[node name="Panel4" type="Panel" parent="CanvasLayer/DrawingArea"]
z_index = -1
layout_mode = 0
offset_left = 16.0
offset_top = 16.0
offset_right = 32.0
offset_bottom = 32.0
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_h6s55")

[node name="ScrollContainer" type="ScrollContainer" parent="CanvasLayer"]
offset_left = 8.0
offset_top = 304.0
offset_right = 224.0
offset_bottom = 352.0
follow_focus = true
vertical_scroll_mode = 0

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/ScrollContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="TextureRect2" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect3" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect4" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect5" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect6" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect7" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect8" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect9" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="TextureRect10" type="TextureRect" parent="CanvasLayer/ScrollContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_75yju")
stretch_mode = 5

[node name="HSeparator" type="HSeparator" parent="CanvasLayer/ScrollContainer/VBoxContainer"]
layout_mode = 2
theme_override_styles/separator = SubResource("StyleBoxEmpty_k72q8")

[connection signal="current_frame_changed" from="PlayerData" to="CanvasLayer/DrawingArea" method="_on_current_frame_changed"]
[connection signal="pressed" from="CanvasLayer/Tools/PencilButton" to="PlayerControls" method="change_tool_from_name" binds= ["pencil"]]
[connection signal="pressed" from="CanvasLayer/Tools/EraserButton" to="PlayerControls" method="change_tool_from_name" binds= ["eraser"]]
